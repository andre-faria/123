<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Valentine Quiz ğŸ’</title>

<style>
  body {
    margin: 0;
    height: 100vh;
    font-family: "Segoe UI", sans-serif;

    /* ğŸŒ¹ğŸŒ· ROSES & TULIPS ONLY */
    background-image: url("https://images.unsplash.com/photo-1518895949257-7621c3c786d7");
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;

    display: flex;
    justify-content: center;
    align-items: center;
  }

  .card {
    background: rgba(255, 255, 255, 0.96);

    /* ğŸ“¦ BIGGER QUIZ BOX */
    padding: 50px;
    border-radius: 30px;
    width: 95%;
    max-width: 650px;

    text-align: center;
    box-shadow: 0 25px 50px rgba(0,0,0,0.35);
  }

  h2 {
    margin-top: 0;
    font-size: 28px;
  }

  h3 {
    font-size: 22px;
  }

  .counter {
    font-weight: bold;
    font-size: 18px;
    margin-bottom: 20px;
  }

  .feedback {
    font-size: 22px;
    margin: 20px 0;
  }

  button {
    margin: 12px;
    padding: 14px 30px;
    border-radius: 30px;
    border: none;
    font-size: 18px;
    cursor: pointer;
    background: #ff4d6d;
    color: white;
  }

  button:hover {
    background: #ff1e4d;
  }

  #noBtn {
    position: relative;
  }

  canvas {
    position: fixed;
    inset: 0;
    pointer-events: none;
  }
</style>
</head>

<body>

<div class="card" id="app"></div>
<canvas id="confetti"></canvas>

<script>
const questions = [
  {
    q: "Where did we first meet?",
    a: ["At work", "At a party", "Online", "By accident"],
    c: 0
  },
  {
    q: "Whatâ€™s my favorite food?",
    a: ["Pizza", "Sushi", "Pasta", "Burgers"],
    c: 1
  },
  {
    q: "What do I love doing most?",
    a: ["Sleeping", "Traveling", "Gaming", "Cooking"],
    c: 1
  },
  {
    q: "Who is the cutest person alive?",
    a: ["Me", "You", "Both", "Obviously you"],
    c: 3
  }
];

let index = 0;
let correct = 0;
let wrong = 0;

const app = document.getElementById("app");

function renderQuestion(feedback = "") {
  const q = questions[index];
  app.innerHTML = `
    <div class="counter">${correct}/${questions.length} correct</div>
    <h2>${q.q}</h2>
    ${q.a.map((ans,i)=>`
      <button onclick="answer(${i})">${ans}</button>
    `).join("")}
    <div class="feedback">${feedback}</div>
  `;
}

function answer(i) {
  const isCorrect = i === questions[index].c;

  if (isCorrect) {
    correct++;
    renderQuestion("âœ… Correct!");
  } else {
    wrong++;
    renderQuestion("âŒ FOCUS WOMAN ğŸ˜¤");
  }

  setTimeout(() => {
    if (wrong >= 2) {
      failScreen();
    } else {
      index++;
      if (index < questions.length) {
        renderQuestion();
      } else {
        resultScreen();
      }
    }
  }, 900);
}

function failScreen() {
  app.innerHTML = `
    <h2>ğŸ˜” Oops...</h2>
    <p>You just lost a bunch of kisses ğŸ’‹ğŸ’‹ğŸ’‹</p>
    <p>Please try again</p>
    <button onclick="restart()">Start Over</button>
  `;
}

function restart() {
  index = 0;
  correct = 0;
  wrong = 0;
  renderQuestion();
}

function resultScreen() {
  if (correct >= 3) {
    app.innerHTML = `
      <h2>ğŸ‰ You won!</h2>
      <p>${correct}/4 correct ğŸ’–</p>
      <h3>Will you be my Valentine?</h3>
      <button onclick="yes()">Yes ğŸ’˜</button>
      <button id="noBtn">No ğŸ’”</button>
    `;

    document
      .getElementById("noBtn")
      .addEventListener("mouseover", moveNo);
  } else {
    failScreen();
  }
}

function moveNo() {
  this.style.transform =
    `translate(${Math.random()*250-125}px,${Math.random()*250-125}px)`;
}

function yes() {
  app.innerHTML = `
    <h2>ğŸ’– SHE SAID YES ğŸ’–</h2>
    <p>Best Valentine ever ğŸ˜</p>
  `;
  startConfetti();
}

/* ğŸ‰ CONFETTI */
const canvas = document.getElementById("confetti");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let pieces = [];

function startConfetti() {
  for (let i=0;i<250;i++) {
    pieces.push({
      x: Math.random()*canvas.width,
      y: Math.random()*canvas.height,
      r: Math.random()*6+4,
      c: `hsl(${Math.random()*360},100%,50%)`,
      s: Math.random()*4+2
    });
  }
  requestAnimationFrame(drawConfetti);
}

function drawConfetti() {
  ctx.clearRect(0,0,canvas.width,canvas.height);
  pieces.forEach(p=>{
    ctx.fillStyle = p.c;
    ctx.beginPath();
    ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
    ctx.fill();
    p.y += p.s;
    if (p.y > canvas.height) p.y = -10;
  });
  requestAnimationFrame(drawConfetti);
}

renderQuestion();
</script>

</body>
</html>
